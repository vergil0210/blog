(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{555:function(s,t,a){"use strict";a.r(t);var n=a(6),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"_1-部署问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-部署问题"}},[s._v("#")]),s._v(" 1. 部署问题")]),s._v(" "),a("h3",{attrs:{id:"如何将源文件保存在github上"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何将源文件保存在github上"}},[s._v("#")]),s._v(" 如何将源文件保存在github上")]),s._v(" "),a("p",[s._v("将博客部署在github上时，由于需要在"),a("code",[s._v(".vuepress/dist")]),s._v("目录下初始化一个git仓库，所以如果托管源代码时再次初始化一个仓库的话，push或者pull的时候很容易出问题 。我的解决办法如下")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("解决问题的关键在于将build好的文件夹和源代码文件夹分离，通过修改配置文件 "),a("code",[s._v("config.js")]),s._v("的dest属性，将build好的目录修改至与"),a("code",[s._v("package.json")]),s._v("文件的父目录同级的目录，建议取相对路径（当前路径即为"),a("code",[s._v("package.json")]),s._v("文件所在目录）")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    dest"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'../dist'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("然后使用 "),a("code",[s._v("npm run docs:build")]),s._v("命令。构建完成后的效果如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(".\n├── blog\n│   ├── docs\n|\t\t├──.vuepress \n├── dist\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("此时问题就很简单了，只需要在github上新建两个仓库，分别存放着两个仓库的代码")])]),s._v(" "),a("li",[a("p",[s._v("最后是在"),a("code",[s._v("package.json")]),s._v("的同级目录下创建批处理文件，结束当天的笔记时跑一下就行，代码也贴上来吧")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("REM 提交源码\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -A\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'update'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -f https://github.com/vergil0210/BlogProject.git master\n\nREM 提交build后的文件夹\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/dist\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -A\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'deploy'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -f https://github.com/vergil0210/blog.git master:gh-pages\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"title"},[s._v("提示")]),a("p",[s._v("批处理建议使用使用"),a("code",[s._v(".bat")]),s._v("的格式，因为之前跑"),a("code",[s._v(".sh")]),s._v("时打包一直失败。本人暂时还没有系统学习shell命令，之后可能会对这段内容进行更新")])])])])])}),[],!1,null,null,null);t.default=e.exports}}]);